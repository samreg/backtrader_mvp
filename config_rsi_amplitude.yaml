# ============================================================
# CONFIGURATION STRATÉGIE RSI + AMPLITUDE
# ============================================================

# === DONNÉES ===
data:
  symbol: "NAS100"              # Symbole à trader
  main_timeframe: "M3"             # Timeframe (M1, M3, M5, M15, M30, H1, H4, D1)
  #months: 6                     # Historique MT5 à télécharger (en mois)
  n_bars: 2000
  #file: "data/NAS100_M3.csv"  # Fichier de données
  use_specific_csv_file: false  # true = utilise 'file' ci-dessus | false = auto-génère depuis symbol+timeframe

# === EXÉCUTION ===
execution:
  auto_download: true           # Télécharger auto depuis MT5 si données manquantes
  auto_html: true               # Générer dashboard HTML automatiquement
  auto_open_browser: true       # Ouvrir navigateur automatiquement
  refresh_data_days: 1          # Re-télécharger si données > X jours

# === CAPITAL & RISQUE ===
capital: 10000
risk_per_trade: 0.01            # 1% du capital

# === COÛTS ===
cost_rate: 0.0002               # 0.02% par exécution
breakeven_offset: 0.0006        # 0.06% = ~10pts @ 17000

# === RSI ===
rsi_period: 14
rsi_long_threshold: 20          # LONG si RSI passe sous 20
rsi_short_threshold: 80         # SHORT si RSI passe au-dessus de 80

# === STOP LOSS ===
sl_lookback: 3                  # Nombre de bougies pour calculer l'amplitude
min_sl_distance_pips: 10        # Distance SL minimale (en pips, ex: 10 pips = 10 points)
max_sl_distance_pips: 200       # Distance SL maximale (en pips, optionnel, 0 = pas de limite)

# === TAKE PROFIT ===
tp1_rr: 1.0                     # TP1 = 1R
tp2_rr: 2.0                     # TP2 = 2R
tp1_ratio: 0.5                  # 50% de sortie au TP1
tp2_ratio: 0.5                  # 50% de sortie au TP2

# === FEATURES ===
enable_breakeven: true

# === BACKTEST ===
start_date: null                # null = toutes les données
end_date: null

# === INDICATORS ===
indicators:
  # Equal Highs/Lows - Liquidité
  - name: bollinger_bands
    module: bollinger_bands.py
    timeframe: M3
    panel: main
    params:
      tolerance: 0.05           # 0.001-0.1 (plus bas = plus strict)
      use_rsi_filter: false      # Filtrer par RSI --- PAS UTILE DANS NOTRE SITUATION
      rsi_threshold: 5          # Écart RSI de 50
      max_zone_age: 5000        # Âge max en bars
      sweep_type: wick          # 'body' ou 'wick'
      allow_rejection: false    # 2 closes pour mitigation